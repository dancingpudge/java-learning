软件项目研发规范    

 [toc]

## 1. 前言

为了更好的提高技术部的工作效率，保证开发的有效性和合理性，并可最大程度的提高程序代码的可读性和可重复利用性，制定此规范。开发团队根据自己的实际情况，可以对本规范进行补充或裁减。

## 2. 目录结构

### 2.1 项目目录结构划分

```
Application
├─Common          应用公共模块
│  ├─Common      应用公共函数目录,样式,JS
│  │   ├─js       公共JS
│  │   ├─css		 公共样式
│  │   ├─img		 公共图片
│  │   ├─各模块js. css. img目录(计划. 库房. 采购)
	│	│   │ ├─Common
│  │   │	├─js
│  │   │	├─module 各模块js(目录层次太深,不建议继续添加)
│  │   │	└─repsjs	公共js(目录层次太深,不建议继续添加)
│  └─Conf          应用公共配置文件目录
├─Home             默认生成的Home模块
│  ├─Conf          模块配置文件目录
│  ├─Common       模块函数公共目录
│  ├─Controller      模块控制器目录
│  ├─Model         模块模型目录
│  └─View          模块视图文件目录
├─Runtime           运行时目录
│  ├─Cache         模版缓存目录
│  ├─Data          数据目录
│  ├─Logs          日志目录
│  └─Temp         缓存目录
------------------------------------------------------------------------------------
单个模块的扩展目录结构
├─Module          模块目录
│  ├─Conf          配置文件目录
│  ├─Common      公共函数目录
│  ├─Controller     控制器目录
│  ├─Model        模型目录
│  ├─Logic         逻辑目录（可选）
│  ├─Service       Service目录（可选）
│  ├─Widget       Widget扩展目录
│  ├─Event         Event控制器监听事件目录（可选）
│  ... 更多分层目录可选
│  └─View        视图目录
```

---------------------------------------------------------------------------------------


多数据层说明：

数据层：`Model/UserModel` 用于定义数据相关的自动验证和自动完成和数据存取接口

逻辑层：`Logic/UserLogic` 用于定义用户相关的业务逻辑

服务层：`Service/UserService` 用于定义用户相关的服务接口等


### 2.2当前系统模块情况 

 ```
Application
			├─Admin			采购模块
			├─Api				移动端接口模块
			├─Apify			第三方数据对接模块
			├─App				APP接口模块（未使用）
			├─Argument		投票系统专家投票端（支持平板）
			├─Common 			系统公共模块
├─Customplan		计划模块（自定义版）
		├─Emergency		应急物资管理模块
		├─Emergencyplus	应急物资管理PLUS模块(首钢，未使用)
		├─Equipment		设备管理模块
		├─Equipmentdataset	设备数据配置模块
		├─Expert			采购-专家评审模块
		├─Expertlibrary		专家抽取模块
		├─Help			    帮助模块
		├─HisApi			HIS接口模块（新桥）
		├─Knowledge		知识库模块
		├─Main			系统主模块
		├─Plan 			计划模块（旧版）
		├─Proof			论证模块
		├─Push			    消息推送模块（未使用）
		├─Radiation			放射模块
		├─Repaircenter		报修中心模块
		├─Review			独立评审模块（未使用）
		├─Score			独立评审模块专家端（未使用）
		├─Statistics			统计模块
		├─Supplier			机构管理模块
		├─System			系统模块
├─Vote			    投票论证模块
		├─Wap				PDA混合开发模块（移动端）
		├─Warehouse		库房模块
		├─Widget			第三方接口模块（未使用）
 ```





 

  

## 3. php开发规范

 

### 3.1 书写规范

1. 类文件都是以`.class.php`为后缀，使用驼峰法命名，并且首字母大写，例如 `DbMysql.class.php`  

2. 类的命名空间地址和所在的路径地址一致，例如`Home/Controller/UserController`类所在的路径应该是`Application/Home/Controller/UserController.class.php`；

3. 确保文件的命名和调用大小写一致，是由于在类Unix系统上面，对大小写是敏感的（而TP在调试模式下面，即使在Windows平台也会严格检查大小写）； 

4. 类名和文件名一致（包括上面说的大小写一致），例如UserController类的文件命名是UserController.class.php， InfoModel类的文件名是InfoModel.class.php， 并且不同的类库的类命名有一定的规范；Model名尽量和表名保持一致，表名中_分割的地方采用驼峰法命名。

5. 函数. 配置文件等其他类库文件之外的一般是以.php为后缀（第三方引入的不做要求）； 

6. 函数的命名使用小写字母和下划线的方式，例如get_client_ip； 

7. 方法的命名使用驼峰法，并且首字母小写或者使用下划线“_”，例如getUserName，_parseType，通常下划线开头的方法属于私有方法； 

8. 属性的命名使用驼峰法，并且首字母小写或者使用下划线“_”，例如tableName. _instance，通常下划线开头的属性属于私有属性；

9. 以双下划线“__”打头的函数或方法作为魔法方法，例如__call和__autoload；

10. 常量以大写字母和下划线命名，例如HAS_ONE和MANY_TO_MANY；  

11. 配置参数以大写字母和下划线命名，例如HTML_CACHE_ON；

12. 语言变量以大写字母和下划线命名，例如MY_LANG，以下划线打头的语言变量通常用于系统语言变量，例如_CLASS_NOT_EXIST_； 

13. 不建议使用短标签：<??>，建议结尾不写?>，如果使用完整格式定界，需要保证在关闭标签后不要有任何空格，避免尾部的空白字符意外输出。

14. 行最大长度：以屏幕换行为准，尽量不要横拉滚动条看代码。 

15. 字符串如果是纯字符（不带变量），那么就用单引号。（$a = ‘a b c’） 

16. 类声明：类后面的{}每半个大扩号，需要单独占一行。每个类需要有符合PHPDocumentor标准的注释。一个PHP文件内只能有一个类。尽量一个PHP文件不要写其他的代码，如果有的话，请空一行。

    ````
    require_once ‘abc.php’;
    /**
     * Documentation注释
     */
    class UserModel
    {
      //content of class
    }
    ````

 

18. 类的成员变量：在类中定义，成员变量要先于函数，必须使用private，protected，public。

19. 函数

    声明：类中的函数必须使用private，protected，public。和类的格式相同，也需要大扩号单独占一行，函数后面的()紧贴函数名。

    使用：函数参数中如果有多个，就要用逗号隔开，并且逗号后面要有空格。

20. 控制语句：

    If/Else/Elseif ：If，Else，Elseif 每个都要占一行。条件中，操作符前后要有空格，提高可读性。开始的大括号和if同行，结束的大括号另起一行。尽量多的使用elseif而不是再写一个if。如果遇到很长的逻辑判断，则要用内嵌括号来分割各个逻辑。

    Switch：和if相似，开始的大括号和switch同行，结束的大括号另起一行。每一个case都要有2个空格缩进。每个case需要有个break，如果想要出于某种特殊目的不写break的，需要注释。必须以"default" 控制结束。

21. 注释：所有的注释都要符合phpdocumentor规范。

    文件及类注释：每个文件或者类在开始都要有注释，不要求很复杂

     ```
    /**
    *文件或者类功能说明，描述文件或者类的作用
    * @category 文件类型：控制器，模块，服务等
    * @package 文件所属包
    * @author 作者信息（姓名全屏及邮箱）
    * @copyright 版权信息（年份+ Reps Group）
    * @version 版本信息（V版本号，开发开始时间）
    */
     ```

    例如:Application/Main/Controller/BasicController.class.php

    ```
    <php?
    /**
    * 系统基类控制器
    * 规范子类行为
    *
    * @category Controller
    * @package Common/Controller
    * @author huangyuanxu<hyxlamp@gmail.com>
    * @copyright 2016 Reps Group
    * @version v1.0 2016-07-01
    */
    ```

    函数注释：
    函数注释需要注明：描述，全部的参数，返回值。
    如有异常抛出，则需要：@throws exceptionclass [description]
    例如：

    ```
    /**
    * 币种金额格式化
    *
    * @param string $num  金额
    * @param string $separator 千位分隔符
    * @param int $accuracy 精度
    * @return string
    * @throws Application/Main/Controller/CommonController.class.php金额格式化异常
    */
    function currency_format($num,$separator=',',$accuracy=2 ){
        try{
            函数体内容略......
        }catch (\Exception $e) {
            return $e->getMessage();
        }
    }
    ```

    单行注释：
    必须现在所注释的前一行或简短写在行末。
    例如：

    ```
    //注释
    $num = 5;//注释
    ```

    多行注释：

    ```
    /*
     * 多行注释
     */
    ```

    注意：尽量不用 #、///等方式进行注释 




22. =或者==等二元操作符需要左右空一格，尽力按要求来。

 

23. 如果需要把一些经常使用的方法定义为全局函数，建议以静态 (static) 的形式定义在类中。

 

24. 代码缩进4个空格缩进（建议开发编辑器中把tab健设置为4个空格，这样可以提高开发效率）。

25. 类的命名及其他代码规范需遵循PSR的相关要求(要求内容可参考：[https://www.cnblogs.com/sandea/p/9190874.html https://www.cnblogs.com/kuyuecs/p/10566897.html)。](https://www.cnblogs.com/sandea/p/9190874.html)。)

26. 关于大括号的规范
	
	在程序中进行结构控制代码编写，如if. for. while. switch等结构，大括号传统的有两种书写习惯，分别如下：
	
	a．{直接跟在控制语句之后，不换行，如
	
	```
	for ($i=0;$i<$count;$i++) {
	
	  echo "test";
	
	}
	```
	
	b．{在控制语句下一行，如
	
	```
	for($i=0;$i<$count;$i++) 
	{
	
	  echo "test";
	
	}
	```
	
	其中，a是PEAR建议的方式，可以根据个人习惯来采用上面的两种方式，但是要求在同一个程序中，只使用其中一种，以免造成阅读的不方便，另外就是流程控制的内容体要可以方便折叠，要符合第24条的相关缩进规范。	

27. API接口规范（待完善）

    

## 4. mysql规范

### 4.1. 表设计

 

1. 库名. 表名. 字段名必须使用小写字母，“_”分割。

 

2. 库名. 表名（表名前缀统一为reps_）. 字段名建议不超过30个字符（不含前缀）。

 

3. 库名. 表名. 字段名见名知意（尽量使用意思相近的英文单词）,建议使用名词而不是动词。

 

4. 建议插入操作多的使用InnoDB存储引擎. 查询操作多的使用MYISAM存储引擎。

 

5. 存储精确浮点数必须使用DECIMAL替代FLOAT和DOUBLE。

 

6. 建议使用UNSIGNED存储非负数值。

 

7. 建议使用INT UNSIGNED存储IPV4。

 

8. 整形定义中不添加长度，比如使用INT，而不是INT(4)。

 

9. 使用短数据类型，比如取值范围为0-80时，使用TINYINT UNSIGNED。

 

10. 不建议使用ENUM类型，使用TINYINT来代替。

 

11. 尽可能不使用TEXT. BLOB类型。

 

12. VARCHAR(N)，N表示的是字符数不是字节数，比如VARCHAR(255)，可以最大可存储255个汉字，需要根据实际的宽度来选择N。

 

13. VARCHAR(N)，N尽可能小，因为MySQL一个表中所有的VARCHAR字段最大长度是65535个字节，进行排序和创建临时表一类的内存操作时，会使用N的长度申请内存。

 

14. 表字符集选择utf8mb4，排序规则utf8mb4_general_ci（utf8mb4的最低mysql版本支持版本为5.5.3+）。

 

15. 使用VARBINARY存储变长字符串（不需要检索其内容的字段）。

 

16. 存储年使用YEAR类型。

 

17. 存储日期使用DATE类型。

 

18. 时间存储统一采用int存储时间戳方式实现，int不要采用UNSIGNED选项。（因时间小于1970年的时候会产生负数，处理相关时间数据时考虑是否有小于1970年的时间，并对其进行特殊处理，大于2038年windows和32位linux受影响，64位系统可正常显示）。存储时间（精确到秒）建议使用TIMESTAMP类型，因为TIMESTAMP使用4字节，DATETIME使用8个字节

 

19. 建议字段定义为NOT NULL。

 

20. 将过大字段拆分到其他表中。

 

21. 禁止在数据库中使用VARBINARY. BLOB存储图片. 文件等（系统内特殊模板文件除外）。

 

### 4.2. 索引(索引添加必须根据系统执行情况添加，不可盲目添加)

 

1. 非唯一索引必须按照“idx_字段名称_字段名称[_字段名]”进行命名。

 

2. 唯一索引必须按照“uniq_字段名称_字段名称[_字段名]”进行命名。

 

3. 索引名称必须使用小写。

 

4. 索引中的字段数建议不超过5个。

 

5. 单张表的索引数量控制在5个以内。

 

6. 唯一键由3个以下字段组成，并且字段都是整形时，使用唯一键作为主键。

 

7. 没有唯一键或者唯一键不符合5中的条件时，使用自增id作为主键。

 

8. 唯一键不和主键重复。

 

9. 索引字段的顺序需要考虑字段值去重之后的个数，个数多的放在前面。

 

10. ORDER BY，GROUP BY，DISTINCT的字段需要添加在索引的后面。

 

11. 使用EXPLAIN判断SQL语句是否合理使用索引，尽量避免extra列出现：Using File Sort，Using Temporary

 

12. UPDATE. DELETE语句需要根据WHERE条件添加索引。

 

13. 不建议使用%前缀模糊查询，例如LIKE “%weibo”，尽量减少使用。

 

14. 对长度过长的VARCHAR字段建立索引时，添加crc32或者MD5 Hash字段，对Hash字段建立索引。

 

15. 合理创建联合索引（避免冗余），(a,b,c) 相当于 (a) . (a,b) . (a,b,c)。

 

16. 合理利用覆盖索引。

 

### 4.3. SQL语句

 

1. 使用prepared statement，可以提供性能并且避免SQL注入（暂时使用TP默认模式）。

 

2. SQL语句中IN包含的值不应过多。

 

3. UPDATE. DELETE语句不使用LIMIT。

 

4. WHERE条件中必须使用合适的类型，避免MySQL进行隐式类型转化。

 

5. SELECT语句只获取需要的字段。

 

6. SELECT. INSERT语句必须显式的指明字段名称，不使用SELECT *，不使用INSERT INTO table()。

 

7. 使用SELECT column_name1, column_name2 FROM table WHERE [condition]而不是SELECT column_name1 FROM table WHERE [condition]和SELECT column_name2 FROM table WHERE [condition]。

 

8. WHERE条件中的非等值条件（IN. BETWEEN. <. <=. >. >=）会导致后面的条件使用不了索引。

 

9. 避免在SQL语句进行数学运算或者函数运算，容易将业务逻辑和DB耦合在一起。

 

10. I NSERT语句使用batch提交（INSERT INTO table VALUES(),(),()……），values的个数不应过多（多条相同结构的数据写入请用TP的ADDALL方法）。

 

11. 避免使用存储过程. 触发器. 函数等，容易将业务逻辑和DB耦合在一起，并且MySQL的存储过程. 触发器. 函数中存在一定的bug。

 

12. 避免使用JOIN。

 

13. 使用合理的SQL语句减少与数据库的交互次数。

 

14. 不使用ORDER BY RAND()，使用其他方法替换。

 

15. 建议使用合理的分页方式以提高分页的效率。

 

16. 统计表中记录数时使用COUNT(*)，而不是COUNT(primary_key)和COUNT(1)。

 

17. 禁止在从库上执行后台管理和统计类型功能的QUERY。

 

### 3.4. 散表

 

1. 每张表数据量建议控制在5000w以下。

 

2. 可以结合使用hash. range. lookup table进行散表。

 

3. 散表如果使用md5（或者类似的hash算法）进行散表，表名后缀使用16进制，比如user_ff。

 

4. 推荐使用CRC32求余（或者类似的算术算法）进行散表，表名后缀使用数字，数字必须从0开始并等宽，比如散100张表，后缀从00-99。

 

5. 使用时间散表，表名后缀必须使用特定格式，比如按日散表user_20110209. 按月散表user_201102。

 

## 5. JS规范

### 5.1 嵌入规则(引用规则)

Javascript程序应该尽量放在.js的文件中，需要调用的时候在页面中以`<script src="filename.js">`的形式包含进来，包含进来的文件必须注释其用途（jquery等标准类库除外）。Javascript代码若不是该页面专用的，则应尽量避免在页面中直接编写Javascript代码（可复用的一律使用单独的js文件）。

### 5.2 对齐缩进与换行

1) 缩进

在同一系统中应采用同一种缩进标准，缩进大小为4个空格。各编译器对Tab键所代替的空白大小定义不同。建议在设置开发环境时，将编辑器里的Tab快捷键重新设置成4个空格。多数编译器提供了此功能。否则建议按4次空格来进行缩进。

2) 换行

在以下位置必须换行：

每个独立语句结束后；

if. else. catch. finally. while等关键字前；

运算符处换行时，运算符必须在新行的行首。 

对于因为单行长度超过限制时产生的换行，参考行长度中的策略进行分隔。

3).字符串过长截断

每行代码应小于80个字符。若代码较长应尽量换行，换行应选择在操作符和标点符号之后，最好是在分号“;”或逗号“,”之后。下一行代码相对上一行缩进4个空格。这样可以有效防止复制粘贴引起的代码缺失等错误并增强可读性。

按一定长度截断字符串，并使用+运算符进行连接。分隔字符串尽量按语义进行，如不要在一个完整的名词中间断开。特别的，对于HTML片段的拼接，通过缩进，保持和HTML相同的结构：

![img](./public/imgs/722/wpsDtHtBy.jpg) 

也可使用数组来进行拼接，相对+运算更容易调整缩进：

![img](./public/imgs/722/wpsSa1QBy.jpg) 

4).三元运算符过长

三元运算符由3部分组成，因此其换行应当根据每个部分的长度不同，形成3种不同的情况：

![img](./public/imgs/722/wps3dJSwx.jpg) 

不得出现以下情况：

![img](./public/imgs/722/wpswTc1Cy.jpg) 

5).过长的逻辑条件组合

当因为较复杂的逻辑条件组合导致80个字符无法满足需求时，应当将每个条件独立一行，逻辑运算符放置在行首进行分隔，或将部分逻辑按逻辑组合进行分隔。最终将右括号)与左大括号{放在独立一行，保证与if内语句块能容易视觉辨识。如：

![img](./public/imgs/722/wpsgQC7Uy.jpg) 

6).过长的JSON和数组

如果对象属性较多导致每个属性一行占用空间过大，可以按语义或逻辑进行分组的组织，如：

![img](./public/imgs/722/wpsvtIyTx.jpg) 

通过5个一组的分组，将每一行控制在合理的范围内，并且按逻辑进行了切分。 对于项目较多的数组，也可以采用相同的方法，如：

![img](./public/imgs/722/wpspvelAx.jpg) 

![img](./public/imgs/722/wpsWAgdzx.jpg) 

7).return语句

return如果用表达式的执行作为返回值，请把表达式和 return 放在同一行中，以免换行符被误解析为语句的结束而引起返回错误。return 关键字后若没有返回表达式，则返回 undefined。构造器的默认返回值为 this。

示例：

### 5.3 命名

命名的方法通常有以下几类： 

a).命名法说明

1).驼峰命名法（camel），形如thisIsAnApple 

2).帕斯卡命名法（pascal），形如ThisIsAnApple

3).下划线命名法，形如this_is_an_apple

4).中划线命名法，形如this-is-an-apple 

5).点隔命名法（本系统使用），形如this.is.an.apple

文件命名规则：模块名.控制器名称.方法名.js自定义名（按功能用途取名）

例如：库房添加的表单验证js
目录:Application/Common/Common/warehouse/
名称:warehouse.storage.add.check.js

根据不同类型的内容，必须严格采用如下的命名法： 

b).变量名：必须使用驼峰命名法（camel）

c).参数名：必须使用驼峰命名法（camel） 

d).函数名：必须使用驼峰命名法（camel）

e).方法/属性：必须使用驼峰命名法（camel）

f).私有（保护）成员：必须以下划线_开头

g).常量名：必须使用全部大写的下划线命名法，如IS_DEBUG_ENABLED

h).类名：必须使用帕斯卡命名法（pascal）

i).枚举名：必须使用帕斯卡命名法（pascal） 

j).枚举的属性：必须使用全部大写的下划线命名法

k).命名空间：必须使用驼峰命名法（camel） 

l).语义：命名同时还需要关注语义，如： 

变量名应当使用名词； 

boolean类型的应当使用is. has等起头，表示其类型；· 

函数名应当用动宾短语；

类名应当用名词。

### 5.4 注释

注释要尽量简单，清晰明了。着重注释的意思，对不太直观的部分进行注解：

![img](./public/imgs/722/wpsWE5woz.jpg) 

（当然这种直接定义一堆全局变量的做法不推荐） 

此外，JavaScript 的注释有两种"//" 和"/* .... */"，建议"//"用作代码行注释，"/* .... */"形式用作对整个代码段的注销，或较正式的声明中，如函数参数. 功能. 文件功能等的描述中（注释内容要求建议参照php要求）：

![img](./public/imgs/722/wpsr2PAPw.jpg) 

另：复制粘贴应注意注释是否与代码对应。

### 5.5 声明

1).变量的声明

尽管 JavaScript 语言并不要求在变量使用前先对变量进行声明。但我们还是应该养成这个好习惯。这样可以比较容易的检测出那些未经声明的变量，避免其变为隐藏的全局变量，造成隐患。

在函数的开始应先用 var 关键字声明函数中要使用的局部变量，注释变量的功能及代表的含义，且应以字母顺序排序。每个变量单独占一行，以便添加注释。这是因为 JavaScript 中只有函数的 {} 表明作用域，用 var 关键字声明的局部变量只在函数内有效，而未经 var 声明的变量则被视为全局变量。示例：

![img](./public/imgs/722/wpsqtR5My.jpg) 

用 var 声明过的变量 valueA 和没有声明的变量 valueB 是有区别的。特别需要注意的是，在函数内部用 var 声明的变量为局部变量，这样可以有效地避免因局部变量和全局变量同名而产生的错误。

2).函数的声明

函数也应在调用前进行声明，内部函数应在 var 声明内部变量的语句之后声明，可以清晰地表明内部变量和内部函数的作用域。 

此外，函数名紧接左括号'('之间，而右括号')'和后面的'{'之间要有个空格，以清楚地显示函数名以其参数部分，和函数体的开始。若函数为匿名 / 无名函数，则 function 关键字和左括号'('之间要留空格，否则可能误认为该函数的函数名为 function。

内部函数声明示例：

![img](./public/imgs/722/wpsnSjllx.jpg) 

从上例的输出可以看出，inF() 函数仅在 outF() 函数的内部生效，局部变量 innerA 对内部函数的作用域生效。这样的编码方式使得变量和函数的作用域变得清晰。

 

## 6. SVN代码提交规范

### 6.1 SVN使用要求  

1. 工作目录要及时更新，不要和SVN服务器有太大的差别

2. 提交代码时，如果出现冲突，必须仔细分析解决，不可以强行提交

3. 提交代码之前先在本地进行测试，确保项目能编译通过，且能够正常运行，不可盲目提交

4. 必须保证SVN上的版本是正确的，项目有错误时，不要进行提交

 

### 6.2  SVN注意事项 

请严格按照操作顺序操作，避免提交代码导致重大事故：

#### 6.2.1 提交之前先更新

1. SVN更新的原则是要随时更新，随时提交。当完成了一个小功能，能够通过编译并且自己 测试 之后，谨慎地提交。

2. 如果在修改的期间别人也更改了svn的对应文件，那么commit就可能会失败。如果别人和自己更改的是同一个文件，那么update时会自动进行合并，如果修改的是同一行，那么合并时会产生冲突，这种情况就需要同之前的开发人员联系，两个人一起协商解决冲突，解决冲突之后，需要两人一起测试保证解决冲突 之后，程序不会影响其他功能。

3. 在更新时注意所更新文件的列表，如果提交过程中产生了更新，则也是需要重新编译并且完成自己的一些必要测试，再进行提交。这样既能了解别人修改了哪些文件，同时也能避免SVN合并错误导致代码有错

#### 6.2.2 保持原子性的提交

每次提交的间歇尽可能地短，以几个小时的开发工作为宜。

例如在更改UI界面的时候，可以每完成一个UI界面的修改或者设计，就提交一次。在开发功能模块的时候，可以每完成一个小细节功能的测试，就提交一次，在修改bug的时候，每修改掉一个bug并且确认修改了这个bug，也就提交一次。我们提倡多提交，也就能多为代码添加上保险。

#### 6.2.3 提交时注意不要提交本地自动生成的文件（不提交本地配置文件. 缓存目录等非程序的必要文件）

一般配置管理员都会将项目中一些自动生成的文件或者与本地配置环境有关的文件屏蔽提交（例如eclipse中的.classpath文件等）。如果项目中没有进行这方面的配置来强行禁止提交这样的文件，请自觉不要提交这样的文件。提交了这样的文件后，别人在更新后就可能与本地的环境冲突从而影响大家的工作。

#### 6.2.4 不要提交不能通过编译的代码

代码在提交之前，首先要确认自己能够在本地编译。如果在代码中使用了第三方类库，要考虑到项目组成员中有些成员可能没有安装相应的第三方类库。项目经理在准备项目工作区域的时候，需要考虑到这样的情况，确保开发小组成员在签出代码之后能够在统一的环境中进行编译。

#### 6.2.5 不要提交自己不明白的代码

代码在提交入SVN之后，你的代码将被项目成员所分享。如果提交了你不明白的代码，你看不懂，别人也看不懂，如果在以后出现了问题将会成为项目质量的隐患。因此在引入任何第三方代码之前，确保你对这个代码有一个很清晰的了解。

#### 6.2.6 提前协调好项目组成员的工作计划

项目经理应该合理分配工作计划。每个成员在准备开始进行某项功能的修改之前，如果有可能，先跟工作小组的成员谈谈自己的修改计划，让大家都能了解你的思想，了解你即将对软件作出的修改，这样能尽可能的减少在开发过程中可能出现的冲突，提高开发效率。同时你也能够在和成员的交流中发现自己之前设计的不足，完善你的设计。

#### 6.2.7 对提交的信息采用明晰的标注（写注释）

在一个项目组中使用SVN，如果提交空的标注或者不确切的标注将会让项目组中其他的成员感到很无奈，项目经理无法很清晰的掌握工作进度，无法清晰的把握此次提交的概要信息。在发现错误后也无法准确的定位引起错误的文件。所以，在提交工作时，要填写明晰的标注，能够概要的描述所提交文件的信息，让项目组其他成员在看到标注后不用详细看代码就能了解你所做的修改。

#### 6.2.8 慎用锁定功能

在项目中要慎用锁定的功能，在你锁定了一个文件之后别人就无法继续修改提交该文件，虽然可以减少冲突的发生率，但是可能会影响项目组中其他人员的工作。平时只有在编辑那些无法合并的文件（例如图片文件，flash文件等）时，才适当的采用锁定操作。

 

参考文献及链接：

 

[https://www.kancloud.cn/thinkphp/php-fig-psr/3139
](https://www.kancloud.cn/thinkphp/php-fig-psr/3139)

https://www.runoob.com/w3cnote/php-standard.html

 

https://www.cnblogs.com/xuyangblog/p/11234833.html

 

http://club.shopex.cn/b2b2c/dev/200.agreement/1.dev.convention.html

 

https://www.cnblogs.com/911dong/p/7686779.html

 

https://blog.csdn.net/weixin_34410662/article/details/88714344

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

附件：phpdoc注释规范

| 标签           | 适用           | 描述                                                         |
| -------------- | -------------- | ------------------------------------------------------------ |
| api            | 方法           | 声明此元素适用于第三方                                       |
| author         | 任何           | 记录相关作者                                                 |
| category       | 文件,类        | 分类                                                         |
| copyright      | 任何           | 记录相关版权信息                                             |
| deprecated     | 任何           | 声明此元素不推荐使用, 以后将会弃用                           |
| example        | 任何           | 显示一部分示例代码                                           |
| filesource     | 文件           | includes the source of the current file for use in the output. |
| global         | 变量           | 告知phpDocumentor全局变量及其用法                            |
| ignore         | 任何           | 告知phpDocumentor忽略的元素                                  |
| internal       | 任何           | 说明此元素是相关程序或库的内部元素，默认隐藏                 |
| license        | 文件, 类       | （开源）许可证                                               |
| link           | 任何           | 相关链接                                                     |
| 方法           | 类             | 声明可调用的魔术方法                                         |
| package        | 文件, 类       | 所属包                                                       |
| param          | 方法, 函数     | 声明程序或方法所用到的参数                                   |
| property       | 类             | 声明类存在的魔术属性                                         |
| property-read  | 类             | 声明类存在的只读魔术属性                                     |
| property-write | 类             | 声明当前类所有的只写魔术属性                                 |
| return         | 方法, 函数     | 声明当前方法或函数的返回类型                                 |
| see            | 任何           | 相关参考                                                     |
| since          | 任何           | 声明可用版本                                                 |
| source         | 任何(除了文件) | 参考来源（源代码）                                           |
| subpackage     | 文件, 类       | 所属子包                                                     |
| throws         | 方法, 函数     | 声明异常类型                                                 |
| todo           | 任何           | 计划还要做的开发任务                                         |
| uses           | 任何           | indicates a reference to (and from) a single associated element. |
| var            | 属性           |                                                              |
| version        | 任何           | 版本                                                         |

/

 * @name 名字

 * @abstract 申明变量/类/方法

 * @access 指明这个变量. 类. 函数/方法的存取权限

 * @author 函数作者的名字和邮箱地址

 * @category 组织packages

 * @copyright 指明版权信息

 * @const 指明常量

 * @deprecate 指明不推荐或者是废弃的信息

 * @exclude 指明当前的注释将不进行分析，不出现在文挡中

 * @final 指明这是一个最终的类. 方法. 属性，禁止派生. 修改。

 * @global 指明在此函数中引用的全局变量

 * @include 指明包含的文件的信息

 * @link 定义在线连接

 * @module 定义归属的模块信息

 * @modulegroup 定义归属的模块组

 * @package 定义归属的包的信息

 * @param 定义函数或者方法的参数信息

 * @return 定义函数或者方法的返回信息

 * @see 定义需要参考的函数. 变量，并加入相应的超级连接。

 * @since 指明该api函数或者方法是从哪个版本开始引入的

 * @static 指明变量. 类. 函数是静态的。

 * @throws 指明此函数可能抛出的错误异常,极其发生的情况

 * @todo 指明应该改进或没有实现的地方

 * @var 定义说明变量/属性。

 * @version 定义版本信息

 */